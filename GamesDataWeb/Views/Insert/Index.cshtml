@model TransactionInsertionModel
@{
    ViewData["Title"] = "Add Data Page";
}

<div class="card mx-auto px-4 w-auto bg-info">
    <form class="use-asterisks card-body" asp-action="NewGame" method="get">
        <div>
            <label for="id">Id:</label>
            <input type="text" class="form-control w-auto d-inline-block" name="id" required placeholder="Id">
        </div>
        <div>
            <label for="name">Name:</label>
            <input type="text" class="form-control w-auto d-inline-block" name="name" required placeholder="Name">
        </div>
        <div>
            <label for="description">Desc:</label>
            <input type="text" class="form-control w-auto d-inline-block" name="description" required placeholder="Description">
        </div>
        <div>
            <label for="tags">Tags:</label> <br>
            <input type="text" class="form-control w-auto d-inline-block" name="tags" required placeholder="Tags">
            <button type="button" id="add-button" class="ms-2 btn btn-outline-secondary d-inline-block">
                <i class="bi bi-plus"></i>
            </button>
        </div>
        <button class="btn btn-primary d-block mx-auto">
            Add Game
            <i class="bi bi-plus"></i>
        </button>
    </form>
</div>


@section Scripts
{
    <script>
        const addButton = document.querySelector('#add-button');
        const tagsInput = document.querySelector('input[name="tags"]');

        addButton.addEventListener('click', () => {
            const newTagsInput = tagsInput.cloneNode();
            newTagsInput.value = '';

            const br = document.createElement('br');

            addButton.insertAdjacentElement('beforebegin', br);
            addButton.insertAdjacentElement('beforebegin', newTagsInput);

            newTagsInput.focus();
        });
    </script>
}

<div class="card mx-auto px-4 w-auto bg-info">
    <form class="use-asterisks card-body" asp-action="NewPlatform" method="post">
        <div>
            <label for="id">Id:</label>
            <input type="text" class="form-control w-auto d-inline-block" name="id" required placeholder="Id">
        </div>
        <div>
            <label for="name">Name:</label>
            <input type="text" class="form-control w-auto d-inline-block" name="name" required placeholder="Name">
        </div>
        <div>
            <label for="description">Desc:</label>
            <input type="text" class="form-control w-auto d-inline-block" name="description" required placeholder="Description">
        </div>
        <button class="btn btn-primary d-block mx-auto">
            Add Platform
            <i class="bi bi-plus"></i>
        </button>
    </form>
</div>

<div class="card mx-auto px-4 w-auto bg-info">
    <form class="use-asterisks card-body" asp-action="NewStore" method="post">
        <div>
            <label for="id">Id:</label>
            <input type="text" class="form-control w-auto d-inline-block" name="id" required placeholder="Id">
        </div>
        <div>
            <label for="name">Name:</label>
            <input type="text" class="form-control w-auto d-inline-block" name="name" required placeholder="Name">
        </div>
        <div>
            <label for="description">Desc:</label>
            <input type="text" class="form-control w-auto d-inline-block" name="description" required placeholder="Description">
        </div>
        <div>
            <label for="link">Url Site:</label>
            <input type="url" class="form-control w-auto d-inline-block" name="link" required placeholder="Url Site">
        </div>
        <button class="btn btn-primary d-block mx-auto">
            Add Store
            <i class="bi bi-plus"></i>
        </button>
    </form>
</div>

<div class="card mx-auto px-4 w-auto bg-info">
    <form class="use-asterisks card-body" asp-action="NewTransaction" method="post">
        <div>
            <label for="id">Id:</label>
            <input type="text" class="form-control w-auto d-inline-block" name="id" required placeholder="Id">
        </div>
        <div>
            <label for="date">Data:</label>
            <input type="date" class="form-control w-auto d-inline-block" name="date" required placeholder="Data">
        </div>
        <div>
            <label for="isVirtual">Virtuale?</label>
            <input type="checkbox" class="form-check-input" name="isVirtual" value="true">
        </div>
        <div>
            <label for="store">Stores:</label>
            <select class="form-select w-auto d-inline-block" name="store" id="store" required>
                <option value="" selected disabled hidden>Choose a store...</option>
                @foreach (var store in Model.StoreDbItems)
                {
                    <option value="@store.StoreId">@store.StoreName</option>
                }
            </select>
        </div>
        <div>
            <label for="platform">Platforms:</label>
            <select class="form-select w-auto d-inline-block" name="platform" id="platform" required>
                <option value="" selected disabled hidden>Choose a platform...</option>
                @foreach (var platform in Model.PlatformDbItems)
                {
                    <option value="@platform.PlatformId">@platform.PlatformName</option>
                }
            </select>
        </div>
        <div>
            <label for="game">Games:</label>
            <select class="form-select w-auto d-inline-block" name="game" id="game" required>
                <option value="" selected disabled hidden>Choose a game...</option>
                @foreach (var game in Model.GameDbItems)
                {
                    <option value="@game.GameId">@game.GameName</option>
                }
            </select>
        </div>
        <div>
            <label for="price">Prezzo:</label>
            <input type="number" min="0" step="0.01" class="form-control w-auto d-inline-block" name="price" id="price" required placeholder="Prezzo">
        </div>
        <div>
            <label for="notes">Notes:</label>
            <input type="text" class="form-control w-auto d-inline-block" name="notes" id="notes" placeholder="Notes">
        </div>
        <button class="btn btn-primary d-block mx-auto">
            Add Transaction
            <i class="bi bi-plus"></i>
        </button>
    </form>
</div>